<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schr√∂dinger's Cat Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        @keyframes bounce {
            0%, 100% {
                transform: translateY(-25%);
                animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
            }
            50% {
                transform: translateY(0);
                animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
            }
        }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .animate-bounce { animation: bounce 1s infinite; }
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(100, 116, 139, 0.3); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(168, 85, 247, 0.6); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(168, 85, 247, 0.8); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Lucide Icons as simple SVG components
        const Play = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
        );
        
        const Pause = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="6" y="4" width="4" height="16"></rect>
                <rect x="14" y="4" width="4" height="16"></rect>
            </svg>
        );
        
        const RotateCcw = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="1 4 1 10 7 10"></polyline>
                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
            </svg>
        );
        
        const Eye = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>
        );
        
        const Info = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
        );

        function SchrodingerCatSimulator() {
            const [isRunning, setIsRunning] = useState(false);
            const [time, setTime] = useState(0);
            const [decayProbability, setDecayProbability] = useState(0.5);
            const [hasObserved, setHasObserved] = useState(false);
            const [observedState, setObservedState] = useState(null);
            const [trials, setTrials] = useState([]);
            const [showInfo, setShowInfo] = useState(false);

            useEffect(() => {
                let interval;
                if (isRunning && !hasObserved) {
                    interval = setInterval(() => {
                        setTime(t => Math.min(t + 0.1, 10));
                    }, 100);
                }
                return () => clearInterval(interval);
            }, [isRunning, hasObserved]);

            const currentProbability = Math.min(decayProbability * (time / 10), 1);

            const observe = () => {
                const random = Math.random();
                const isDead = random < currentProbability;
                setObservedState(isDead ? 'dead' : 'alive');
                setHasObserved(true);
                setIsRunning(false);
                setTrials(prev => [...prev, { 
                    time: time.toFixed(1), 
                    probability: currentProbability.toFixed(2), 
                    result: isDead ? 'dead' : 'alive' 
                }]);
            };

            const reset = () => {
                setTime(0);
                setHasObserved(false);
                setObservedState(null);
                setIsRunning(false);
            };

            const resetAll = () => {
                reset();
                setTrials([]);
            };

            const aliveProb = hasObserved ? (observedState === 'alive' ? 100 : 0) : ((1 - currentProbability) * 100);
            const deadProb = hasObserved ? (observedState === 'dead' ? 100 : 0) : (currentProbability * 100);

            const aliveCount = trials.filter(t => t.result === 'alive').length;
            const deadCount = trials.filter(t => t.result === 'dead').length;

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8">
                    <div className="max-w-7xl mx-auto">
                        <div className="text-center mb-8">
                            <h1 className="text-5xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 mb-3">
                                Schr√∂dinger's Cat Simulator
                            </h1>
                            <p className="text-purple-300 text-xl font-light">
                                Explore Quantum Superposition & Wave Function Collapse
                            </p>
                        </div>

                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="bg-gradient-to-br from-indigo-900/40 to-purple-900/40 backdrop-blur-xl rounded-3xl p-8 border-2 border-purple-500/30 shadow-2xl shadow-purple-500/20">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-3xl font-bold text-white flex items-center gap-3">
                                        <span className="text-4xl">üì¶</span>
                                        Quantum Box
                                    </h2>
                                    <button
                                        onClick={() => setShowInfo(!showInfo)}
                                        className="text-purple-300 hover:text-white transition-all duration-300 hover:scale-110 bg-white/10 p-2 rounded-lg"
                                    >
                                        <Info />
                                    </button>
                                </div>

                                {showInfo && (
                                    <div className="bg-gradient-to-r from-blue-500/30 to-purple-500/30 border-2 border-blue-400/50 rounded-xl p-5 mb-6 text-white text-sm backdrop-blur-sm shadow-lg">
                                        <p className="mb-3 leading-relaxed">
                                            <strong className="text-blue-300">Before Observation:</strong> The cat exists in a superposition of both alive and dead states simultaneously.
                                        </p>
                                        <p className="leading-relaxed">
                                            <strong className="text-purple-300">After Observation:</strong> The wave function collapses to a single definite state.
                                        </p>
                                    </div>
                                )}

                                <div className="relative h-80 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 rounded-2xl mb-8 overflow-hidden border-4 border-purple-500/50 shadow-2xl shadow-purple-500/30">
                                    {!hasObserved ? (
                                        <div className="absolute inset-0 flex items-center justify-center">
                                            <div className="absolute inset-0 bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-pink-500/10 animate-pulse"></div>
                                            
                                            <div className="relative z-10">
                                                <div className="absolute inset-0 animate-pulse">
                                                    <div className="text-8xl opacity-60 text-green-400 blur-md filter drop-shadow-2xl">üê±</div>
                                                </div>
                                                <div className="absolute inset-0 animate-pulse" style={{animationDelay: '0.5s'}}>
                                                    <div className="text-8xl opacity-60 text-red-400 blur-md filter drop-shadow-2xl">üíÄ</div>
                                                </div>
                                                <div className="relative text-8xl opacity-80 drop-shadow-2xl">‚ùì</div>
                                            </div>
                                            <div className="absolute top-6 left-6 bg-gradient-to-r from-yellow-400 to-orange-500 px-4 py-2 rounded-lg shadow-lg text-black text-sm font-bold uppercase tracking-wider">
                                                ‚ö° Superposition State
                                            </div>
                                        </div>
                                    ) : (
                                        <div className="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-slate-900/50 to-slate-800/50">
                                            <div className={`text-9xl transform transition-all duration-500 ${observedState === 'alive' ? 'animate-bounce scale-110' : 'scale-100'}`}>
                                                {observedState === 'alive' ? 'üê±' : 'üíÄ'}
                                            </div>
                                            <div className={`absolute top-6 left-6 px-5 py-3 rounded-xl text-base font-bold uppercase tracking-wide shadow-2xl ${
                                                observedState === 'alive' 
                                                    ? 'bg-gradient-to-r from-green-400 to-emerald-500 text-white' 
                                                    : 'bg-gradient-to-r from-red-500 to-rose-600 text-white'
                                            }`}>
                                                {observedState === 'alive' ? '‚úì ALIVE' : '‚úï DEAD'}
                                            </div>
                                        </div>
                                    )}
                                </div>

                                <div className="space-y-4 mb-8">
                                    <div>
                                        <div className="flex justify-between text-white text-base mb-2">
                                            <span className="font-semibold flex items-center gap-2">
                                                <span className="text-2xl">üò∫</span> Alive Probability
                                            </span>
                                            <span className="font-mono text-lg font-bold text-green-300">{aliveProb.toFixed(1)}%</span>
                                        </div>
                                        <div className="h-8 bg-slate-800/50 rounded-full overflow-hidden border-2 border-green-500/30 shadow-lg">
                                            <div
                                                className="h-full bg-gradient-to-r from-green-400 via-green-500 to-emerald-600 transition-all duration-500 shadow-lg shadow-green-500/50"
                                                style={{ width: `${aliveProb}%` }}
                                            />
                                        </div>
                                    </div>
                                    <div>
                                        <div className="flex justify-between text-white text-base mb-2">
                                            <span className="font-semibold flex items-center gap-2">
                                                <span className="text-2xl">üíÄ</span> Dead Probability
                                            </span>
                                            <span className="font-mono text-lg font-bold text-red-300">{deadProb.toFixed(1)}%</span>
                                        </div>
                                        <div className="h-8 bg-slate-800/50 rounded-full overflow-hidden border-2 border-red-500/30 shadow-lg">
                                            <div
                                                className="h-full bg-gradient-to-r from-red-400 via-red-500 to-rose-600 transition-all duration-500 shadow-lg shadow-red-500/50"
                                                style={{ width: `${deadProb}%` }}
                                            />
                                        </div>
                                    </div>
                                </div>

                                <div className="space-y-5">
                                    <div className="bg-slate-800/40 rounded-xl p-5 border border-purple-500/30">
                                        <label className="text-white text-base mb-3 block font-semibold">
                                            ‚öôÔ∏è Decay Probability: <span className="text-purple-300">{decayProbability.toFixed(2)}</span>
                                        </label>
                                        <input
                                            type="range"
                                            min="0"
                                            max="1"
                                            step="0.01"
                                            value={decayProbability}
                                            onChange={(e) => setDecayProbability(parseFloat(e.target.value))}
                                            disabled={isRunning || hasObserved}
                                            className="w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"
                                        />
                                    </div>

                                    <div className="bg-gradient-to-br from-slate-800/60 to-purple-900/40 rounded-xl p-5 border-2 border-purple-400/40 shadow-lg">
                                        <div className="text-purple-200 text-sm mb-2 uppercase tracking-wide font-semibold">‚è±Ô∏è Time Elapsed</div>
                                        <div className="text-5xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-pink-300">{time.toFixed(1)}s</div>
                                    </div>

                                    <div className="flex gap-4">
                                        {!hasObserved && (
                                            <button
                                                onClick={() => setIsRunning(!isRunning)}
                                                className="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-xl shadow-blue-500/30 flex items-center justify-center gap-3 text-lg"
                                            >
                                                {isRunning ? <Pause /> : <Play />}
                                                {isRunning ? 'Pause' : 'Start'}
                                            </button>
                                        )}
                                        
                                        <button
                                            onClick={observe}
                                            disabled={hasObserved}
                                            className="flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-xl shadow-yellow-500/30 disabled:shadow-none flex items-center justify-center gap-3 text-lg"
                                        >
                                            <Eye />
                                            Observe
                                        </button>
                                        
                                        <button
                                            onClick={reset}
                                            className="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-xl"
                                        >
                                            <RotateCcw />
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-gradient-to-br from-purple-900/40 to-indigo-900/40 backdrop-blur-xl rounded-3xl p-8 border-2 border-indigo-500/30 shadow-2xl shadow-indigo-500/20">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-3xl font-bold text-white flex items-center gap-3">
                                        <span className="text-4xl">üìä</span>
                                        Trial Statistics
                                    </h2>
                                    <button
                                        onClick={resetAll}
                                        className="text-sm bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white px-5 py-2 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold"
                                    >
                                        Clear All
                                    </button>
                                </div>

                                {trials.length === 0 ? (
                                    <div className="text-center text-white/60 py-16">
                                        <div className="text-6xl mb-4">üìà</div>
                                        <p className="text-xl mb-2 font-semibold">No trials yet</p>
                                        <p className="text-base">Run the simulation and observe to collect data</p>
                                    </div>
                                ) : (
                                    <>
                                        <div className="grid grid-cols-2 gap-6 mb-8">
                                            <div className="bg-gradient-to-br from-green-500/20 to-emerald-600/20 border-2 border-green-400/40 rounded-2xl p-6 shadow-xl">
                                                <div className="text-green-300 text-lg font-semibold mb-2">üò∫ Alive</div>
                                                <div className="text-5xl font-bold text-white mb-2">{aliveCount}</div>
                                                <div className="text-green-200 text-base font-mono">
                                                    {trials.length > 0 ? ((aliveCount / trials.length) * 100).toFixed(1) : 0}%
                                                </div>
                                            </div>
                                            <div className="bg-gradient-to-br from-red-500/20 to-rose-600/20 border-2 border-red-400/40 rounded-2xl p-6 shadow-xl">
                                                <div className="text-red-300 text-lg font-semibold mb-2">üíÄ Dead</div>
                                                <div className="text-5xl font-bold text-white mb-2">{deadCount}</div>
                                                <div className="text-red-200 text-base font-mono">
                                                    {trials.length > 0 ? ((deadCount / trials.length) * 100).toFixed(1) : 0}%
                                                </div>
                                            </div>
                                        </div>

                                        <div className="space-y-3 max-h-96 overflow-y-auto pr-2 custom-scrollbar">
                                            <h3 className="text-white font-bold text-xl mb-4 sticky top-0 bg-gradient-to-r from-purple-900/90 to-indigo-900/90 backdrop-blur-sm py-2 px-3 rounded-lg border border-purple-500/30">
                                                üìã Recent Trials
                                            </h3>
                                            {trials.slice().reverse().map((trial, idx) => (
                                                <div
                                                    key={idx}
                                                    className={`p-4 rounded-xl border-2 backdrop-blur-sm transition-all duration-300 hover:scale-102 ${
                                                        trial.result === 'alive'
                                                            ? 'bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-green-400/40 hover:border-green-400/60'
                                                            : 'bg-gradient-to-r from-red-500/20 to-rose-500/20 border-red-400/40 hover:border-red-400/60'
                                                    }`}
                                                >
                                                    <div className="flex justify-between items-center">
                                                        <span className="text-white text-base font-semibold">
                                                            Trial #{trials.length - idx}
                                                        </span>
                                                        <span className={`font-bold text-lg px-4 py-1 rounded-lg ${
                                                            trial.result === 'alive' 
                                                                ? 'text-green-300 bg-green-500/20' 
                                                                : 'text-red-300 bg-red-500/20'
                                                        }`}>
                                                            {trial.result === 'alive' ? 'üò∫ ALIVE' : 'üíÄ DEAD'}
                                                        </span>
                                                    </div>
                                                    <div className="text-white/70 text-sm mt-2 font-mono">
                                                        ‚è±Ô∏è Time: {trial.time}s | üìä Probability: {trial.probability}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </>
                                )}
                            </div>
                        </div>

                        <div className="mt-6 bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20">
                            <h3 className="text-xl font-bold text-white mb-3">Understanding the Experiment</h3>
                            <div className="grid md:grid-cols-3 gap-4 text-white">
                                <div>
                                    <div className="text-purple-300 font-semibold mb-2">1. Superposition</div>
                                    <p className="text-sm text-white/80">
                                        Before observation, the cat exists in both states simultaneously - a fundamental quantum principle.
                                    </p>
                                </div>
                                <div>
                                    <div className="text-purple-300 font-semibold mb-2">2. Observation</div>
                                    <p className="text-sm text-white/80">
                                        The act of measuring forces the system to "choose" one definite state, collapsing the wave function.
                                    </p>
                                </div>
                                <div>
                                    <div className="text-purple-300 font-semibold mb-2">3. Probability</div>
                                    <p className="text-sm text-white/80">
                                        Over many trials, results match predicted probabilities, demonstrating quantum mechanics' statistical nature.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SchrodingerCatSimulator />);
    </script>
</body>
</html>